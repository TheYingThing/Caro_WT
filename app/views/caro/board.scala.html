@import views.html.caro.partials.quickrules
@(controller: HomeController)

@main("This is Caro") {
    <div class="content-body">
            <div class="player col-lg-3 col-6">
                <h3 class="highlight" id="p1-name">@controller.controller.getPlayerOneName</h3>
                <nav class="top-padding">
                    <div class="nav nav-pills nav-justified" id="nav-tab" role="tablist">
                        <button class="nav-link grey-link active" id="nav-tiles-tab-p1" data-bs-toggle="tab" data-bs-target="#nav-tiles-p1" type="button" role="tab" aria-controls="nav-tiles-p1" aria-selected="true">
                            Tiles</button>
                        <button class="nav-link grey-link" id="nav-scoring-tab-p1" data-bs-toggle="tab" data-bs-target="#nav-scoring-p1" type="button" role="tab" aria-controls="nav-scoring-p1" aria-selected="false">
                            Scoring rules</button>
                    </div>
                </nav>
                <div class="tab-content" id="nav-tabContent-p1">
                    <div class="tab-pane fade show active top-padding" id="nav-tiles-p1" role="tabpanel" aria-labelledby="nav-tiles-tab-p1">
                        <h4 id="p1-points">@controller.controller.getBoard.getPlayerOne.getPoints</h4>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerOne.getTiles("red")
                        } :color="1" :player="1"></tile-list>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerOne.getTiles("black")
                        } :color="2" :player="1"></tile-list>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerOne.getTiles("grey")
                        } :color="3" :player="1"></tile-list>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerOne.getTiles("white")
                        } :color="4" :player="1"></tile-list>
                    </div>
                    @quickrules("p1")
                </div>
            </div>
            <div class="col-lg-6 col-12 order-first order-lg-0">
                <div id="action-buttons" class="btn-group" role="group" >
                    <action-button-group></action-button-group>
                </div>
                <div class="col-board" id="board-grid">
                @for(row <- 3 to 15) {
                    <div class="btn-group" id="board-grid-row">
                    @for(col <- 3 to 15) {
                        @if(controller.controller.getCellColor(row, col) == "none") {
                            <empty-board-tile :row=@row :col=@col></empty-board-tile>
                        } else if(controller.controller.getCellColor(row, col) == "red") {
                        <span class="board-tile-padding">
                            <board-tile :color="1"></board-tile>
                        </span>
                        } else if(controller.controller.getCellColor(row, col) == "black") {
                        <span class="board-tile-padding">
                            <board-tile :color="2"></board-tile>
                        </span>
                        } else if(controller.controller.getCellColor(row, col) == "grey") {
                        <span class="board-tile-padding">
                            <board-tile :color="3"></board-tile>
                        </span>
                        } else if(controller.controller.getCellColor(row, col) == "white") {
                        <span class="board-tile-padding">
                            <board-tile :color="4"></board-tile>
                        </span>
                        }
                    }
                    </div>
                }
                </div>
            </div>
            <div class="player col-lg-3 col-6">
                <h3 id="p2-name">@controller.controller.getPlayerTwoName</h3>
                <nav class="top-padding">
                    <div class="nav nav-pills nav-justified" id="nav-tab-p2" role="tablist">
                        <button class="nav-link grey-link active" id="nav-tiles-tab-p2" data-bs-toggle="tab" data-bs-target="#nav-tiles-p2" type="button" role="tab" aria-controls="nav-tiles-p2" aria-selected="true">
                            Tiles</button>
                        <button class="nav-link grey-link" id="nav-scoring-tab-p2" data-bs-toggle="tab" data-bs-target="#nav-scoring-p2" type="button" role="tab" aria-controls="nav-scoring-p2" aria-selected="false">
                            Scoring rules</button>
                    </div>
                </nav>
                <div class="tab-content" id="nav-tabContent-p2">
                    <div class="tab-pane fade show active top-padding" id="nav-tiles-p2" role="tabpanel" aria-labelledby="nav-tiles-tab-p2">
                        <h4 id="p2-points">@controller.controller.getBoard.getPlayerTwo.getPoints</h4>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerTwo.getTiles("red")
                        } :color="1" :player="2"></tile-list>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerTwo.getTiles("black")
                        } :color="2" :player="2"></tile-list>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerTwo.getTiles("grey")
                        } :color="3" :player="2"></tile-list>
                        <tile-list :count=@{
                            controller.controller.getBoard.getPlayerTwo.getTiles("white")
                        } :color="4" :player="2"></tile-list>
                    </div>
                    @quickrules("p2")
                </div>
            </div>
        </div>
        <div class="row">
            <div class="alert alert-dark alert-dismissible game-status" role="alert" id="status-alert">
                @controller.controller.getBoardStatus
                <a style="text-decoration: none" type="button" class="close" data-bs-dismiss="alert" aria-label="Close" id="close-icon">
                    <span class="alert-icon" aria-hidden="true">&times;</span>
                </a>
            </div>
        </div>
    </div>
}